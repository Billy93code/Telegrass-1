<!-- Optimized Image Template for City Pages -->
<!-- This template shows how to implement the image optimizations -->

<!-- Hero section with optimized background image -->
<section class="hero-section">
    <div class="hero-image-container">
        <!-- Critical above-the-fold image with preload -->
        <img 
            src="/assets/images/placeholders/hero-small.jpg" 
            data-src="/assets/images/cities/[CITY_NAME]-hero.jpg" 
            data-webp="/assets/images/cities/[CITY_NAME]-hero.webp"
            data-critical="true"
            loading="eager"
            alt="נוף של [CITY_NAME] - מיקום טלגראס כיוונים"
            class="hero-image loading"
            sizes="100vw"
            srcset="/assets/images/cities/[CITY_NAME]-hero-320.webp 320w,
                    /assets/images/cities/[CITY_NAME]-hero-640.webp 640w,
                    /assets/images/cities/[CITY_NAME]-hero-1024.webp 1024w,
                    /assets/images/cities/[CITY_NAME]-hero-1920.webp 1920w"
        >
    </div>
    <div class="hero-overlay"></div>
    <div class="container">
        <!-- Hero content -->
    </div>
</section>

<!-- Features section with lazy-loaded images -->
<section class="features-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="feature-card">
                    <!-- Lazy loaded feature image -->
                    <div class="image-16-9">
                        <img 
                            data-src="/assets/images/features/security.jpg"
                            data-webp="/assets/images/features/security.webp"
                            loading="lazy"
                            alt="אבטחה ובטיחות בטלגראס כיוונים"
                            class="feature-image loading"
                            sizes="(max-width: 768px) 100vw, 33vw"
                            srcset="/assets/images/features/security-320.webp 320w,
                                    /assets/images/features/security-640.webp 640w,
                                    /assets/images/features/security-1024.webp 1024w"
                        >
                    </div>
                    <h3>אבטחה מקסימלית</h3>
                    <p>הגנה מלאה על הפרטיות שלכם</p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="feature-card">
                    <!-- Progressive loading with blur-up effect -->
                    <div class="progressive-image image-16-9">
                        <img 
                            src="/assets/images/placeholders/feature-blur.jpg"
                            data-src="/assets/images/features/quality.jpg"
                            data-webp="/assets/images/features/quality.webp"
                            loading="lazy"
                            alt="איכות גבוהה של קנאביס במקומות מוכרים"
                            class="feature-image small"
                            sizes="(max-width: 768px) 100vw, 33vw"
                        >
                    </div>
                    <h3>איכות מובטחת</h3>
                    <p>רק המוכרים הטובים ביותר</p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="feature-card">
                    <!-- Responsive image with WebP fallback -->
                    <picture class="image-16-9">
                        <source 
                            srcset="/assets/images/features/support-320.webp 320w,
                                    /assets/images/features/support-640.webp 640w,
                                    /assets/images/features/support-1024.webp 1024w"
                            sizes="(max-width: 768px) 100vw, 33vw"
                            type="image/webp">
                        <img 
                            src="/assets/images/features/support-640.jpg"
                            srcset="/assets/images/features/support-320.jpg 320w,
                                    /assets/images/features/support-640.jpg 640w,
                                    /assets/images/features/support-1024.jpg 1024w"
                            sizes="(max-width: 768px) 100vw, 33vw"
                            loading="lazy"
                            alt="תמיכה 24/7 ללקוחות טלגראס כיוונים"
                            class="feature-image">
                    </picture>
                    <h3>תמיכה 24/7</h3>
                    <p>זמינים עבורכם בכל שעה</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Gallery section with optimized lazy loading -->
<section class="gallery-section py-5">
    <div class="container">
        <h2 class="text-center mb-5">גלריית תמונות</h2>
        <div class="row">
            <!-- Gallery images with lazy loading and proper alt attributes -->
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="gallery-item image-1-1">
                    <img 
                        data-src="/assets/images/gallery/[CITY_NAME]-1.jpg"
                        data-webp="/assets/images/gallery/[CITY_NAME]-1.webp"
                        data-placeholder="/assets/images/placeholders/gallery-small.jpg"
                        loading="lazy"
                        alt="תמונה 1 של [CITY_NAME] - מקומות טלגראס כיוונים מומלצים"
                        class="gallery-image loading"
                        sizes="(max-width: 576px) 100vw, (max-width: 768px) 50vw, 33vw"
                    >
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="gallery-item image-1-1">
                    <img 
                        data-src="/assets/images/gallery/[CITY_NAME]-2.jpg"
                        data-webp="/assets/images/gallery/[CITY_NAME]-2.webp"
                        data-placeholder="/assets/images/placeholders/gallery-small.jpg"
                        loading="lazy"
                        alt="תמונה 2 של [CITY_NAME] - אזורי פעילות טלגראס"
                        class="gallery-image loading"
                        sizes="(max-width: 576px) 100vw, (max-width: 768px) 50vw, 33vw"
                    >
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="gallery-item image-1-1">
                    <img 
                        data-src="/assets/images/gallery/[CITY_NAME]-3.jpg"
                        data-webp="/assets/images/gallery/[CITY_NAME]-3.webp"
                        data-placeholder="/assets/images/placeholders/gallery-small.jpg"
                        loading="lazy"
                        alt="תמונה 3 של [CITY_NAME] - מיקומים בטוחים לרכישה"
                        class="gallery-image loading"
                        sizes="(max-width: 576px) 100vw, (max-width: 768px) 50vw, 33vw"
                    >
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map section with optimized map image -->
<section class="map-section py-5 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h2>מפת [CITY_NAME]</h2>
                <p>מיקומים מדויקים ובטוחים לטלגראס כיוונים בעיר</p>
                <ul class="list-unstyled">
                    <li><i class="bi bi-check-circle text-success"></i> מיקומים מאומתים</li>
                    <li><i class="bi bi-check-circle text-success"></i> עדכון שוטף</li>
                    <li><i class="bi bi-check-circle text-success"></i> ביקורות אמיתיות</li>
                </ul>
            </div>
            <div class="col-lg-6">
                <div class="map-container image-16-9">
                    <!-- Map image with lazy loading -->
                    <img 
                        data-src="/assets/images/maps/[CITY_NAME]-map.jpg"
                        data-webp="/assets/images/maps/[CITY_NAME]-map.webp"
                        loading="lazy"
                        alt="מפה של [CITY_NAME] עם מיקומי טלגראס כיוונים"
                        class="map-image loading"
                        sizes="(max-width: 768px) 100vw, 50vw"
                        srcset="/assets/images/maps/[CITY_NAME]-map-480.webp 480w,
                                /assets/images/maps/[CITY_NAME]-map-768.webp 768w,
                                /assets/images/maps/[CITY_NAME]-map-1024.webp 1024w"
                    >
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Performance optimization notes: -->
<!--
1. Critical images use loading="eager" and data-critical="true"
2. All other images use loading="lazy" for performance
3. WebP format is provided with fallback to JPG/PNG
4. Responsive srcset provides multiple image sizes
5. Proper alt attributes for SEO and accessibility
6. Progressive loading with blur-up effect for better UX
7. Image placeholders prevent layout shift
8. Optimized sizes attribute for responsive images
-->

<style>
/* Additional CSS for optimized images */
.hero-image-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: -1;
}

.gallery-item {
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.gallery-item:hover {
    transform: translateY(-5px);
}

.map-container {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

/* Loading skeleton animation */
.gallery-image.loading {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton 1.5s infinite;
}

@keyframes skeleton {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}
</style>
